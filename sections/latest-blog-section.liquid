{%- assign blog = blogs[section.settings.blog] -%}

{% style %}
.lastest-blog-section-{{ section.id }} {
  background-color: {{ section.settings.background_color }};
  padding: 64px 0 10px;
}
.lastest-blog-section-{{ section.id }} .lastest-blog-section__heading {
  display: flex;
  align-items: center;
  margin-bottom: 32px;
}

.lastest-blog-section-{{ section.id }} .lastest-blog-section__heading h4,
.lastest-blog-section-{{ section.id }} .lastest-blog-section__heading a {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 24px;
  text-transform: uppercase;
  white-space: nowrap;
  margin: 0 16px 0 0;
}
.lastest-blog-section-{{ section.id }} .lastest-blog-section__heading a svg{
  margin-left: 10px;
  transform: scale(1.2);
}

.lastest-blog-section-{{ section.id }} .lastest-blog-section__heading h4 {
  letter-spacing: 2px;
  color: #333;
}

.lastest-blog-section-{{ section.id }} .lastest-blog-section__heading a {
  font-weight: bold !important;
  color: #03555F;
  display: flex;
  align-items: center;
}

.lastest-blog-section-{{ section.id }} .lastest-blog-section__heading .heading-line {
  width: 100%;
  border-bottom: 1px solid #CADFDC;
}

.lastest-blog-section-{{ section.id }} .lastest-blog-section__entry {
  display: flex;
  flex-wrap: wrap;
  margin: 0 -16px;
}

.lastest-blog-section-{{ section.id }} .article-item {
  padding: 0 16px;
  margin-bottom: 16px;
  box-sizing: border-box;
  width: calc(100% / 4);
}

.lastest-blog-section-{{ section.id }} .article-item .post-thumb {
  display: inline-block;
  margin-bottom: 16px;
}

.lastest-blog-section-{{ section.id }} .article-item .post-thumb img {
  border-radius: 4px;
}

.lastest-blog-section-{{ section.id }} .article-item .post-date {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: #17242C;
  display: inline-block;
  margin-bottom: 8px;
}

.lastest-blog-section-{{ section.id }} .article-item .post-title {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-size: 16px;
  color: #004F59;
  line-height: 1.5em;
  transition: .3s ease;
  margin-bottom: 0;
}

.lastest-blog-section-{{ section.id }} .article-item .post-title:hover {
  opacity: .7;
}

.lastest-blog-section-{{ section.id }} .article-item .post-title a {
  color: #004F59;
}

@media(max-width: 768px) {

}
@media(max-width: 768px) {
  .lastest-blog-section-{{ section.id }} { padding: 32px 0 2px; }
  .lastest-blog-section-{{ section.id }} .lastest-blog-section__heading { flex-direction: column; justify-content: center; text-align: center; line-height: 1.5em; }
  .lastest-blog-section-{{ section.id }} .lastest-blog-section__heading h4 { 
    margin-bottom: 4px; 
    white-space: initial;
    margin-right:0;
    text-align:center;
  }
  .lastest-blog-section-{{ section.id }} .lastest-blog-section__heading .heading-line { margin-top: 12px; }
  .lastest-blog-section-{{ section.id }} .lastest-blog-section__entry .article-item {
    width: 100%;
    display: flex;
    flex-direction: row-reverse;
    justify-content: space-between;
  }
  .lastest-blog-section-{{ section.id }} .lastest-blog-section__entry .article-item .post-entry {
    width: 60%;
  }
  .lastest-blog-section-{{ section.id }} .lastest-blog-section__entry .article-item a.post-thumb {
    width: 30%;
    min-width: 30%;
  }
}
{% endstyle %}

<div
  data-section-id="{{ section.id }}"
  data-section-type="lastest-blog-section"
  class="lastest-blog-section lastest-blog-section-{{ section.id }} {{ section.class }}" >
  <div class="content-container">
    <div class="lastest-blog-section__inner">
      <div class="lastest-blog-section__heading">
        <h4>{{ section.settings.label }}</h4>

        {% if section.settings.see_all %}
        <a href="{{ section.settings.see_all_url }}" target="_blank">See All Posts
          <svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M3.1049 6.10168C3.13806 6.06945 3.17747 6.04388 3.22084 6.02643C3.26422 6.00898 3.31073 6 3.35769 6C3.40465 6 3.45116 6.00898 3.49454 6.02643C3.53791 6.04388 3.57732 6.06945 3.61048 6.10168L7.8951 10.255C7.92835 10.2872 7.95473 10.3254 7.97273 10.3674C7.99073 10.4095 8 10.4546 8 10.5001C8 10.5456 7.99073 10.5907 7.97273 10.6327C7.95473 10.6748 7.92835 10.713 7.8951 10.7451L3.61048 14.8985C3.54344 14.9635 3.45251 15 3.35769 15C3.26287 15 3.17194 14.9635 3.1049 14.8985C3.03785 14.8335 3.00019 14.7454 3.00019 14.6534C3.00019 14.5615 3.03785 14.4734 3.1049 14.4084L7.13744 10.5001L3.1049 6.59178C3.07165 6.55963 3.04527 6.52144 3.02727 6.47939C3.00927 6.43734 3 6.39226 3 6.34673C3 6.30121 3.00927 6.25613 3.02727 6.21408C3.04527 6.17203 3.07165 6.13383 3.1049 6.10168V6.10168Z" stroke="#03555F"/>
          </svg>
        </a>
       
        {% endif %}

        <span class="heading-line"></span>
      </div> <!-- .lastest-blog-section__heading -->

      <div class="lastest-blog-section__entry">
      {%- for article in blog.articles limit: 4 -%}
        <article class="article-item">
          <a class="post-thumb" href="{{ article.url }}">
            {%- if article.image -%}
              {{ article | img_url: '250x250', scale: 2 | img_tag: '' }}
            {%- endif -%}
          </a>
          <div class="post-entry">
            <span class="post-date">
              {{ article.published_at | time_tag: format: 'month_day_year' }}
            </span>
            <h4 class="post-title">
              <a href="{{ article.url }}">{{ article.title }}</a>
            </h4>
          </div>
        </article>
      {%- endfor -%}
      </div>
    </div>
  </div>
</div> <!-- .lastest-blog-section -->

{% schema %}
{
  "name": "Latest Blog Section",
  "class": "lastest-blog-section--container",
  "settings": [
    {
      "type": "text",
      "id": "label",
      "label": "Label",
      "info": "Enter label",
      "default": "Meet Our Best Sellers"
    },
    {
      "type": "checkbox",
      "id": "see_all",
      "label": "Enable See All",
      "default": true
    },
    {
      "type": "url",
      "id": "see_all_url",
      "label": "See All Url",
      "info": "Select see all url"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#FFF",
      "info": "Select background color"
    },
    {
      "id": "blog",
      "type": "blog",
      "label": "Blog"
    }
  ]
}
{% endschema %}
